<!-- https://tailwind-elements.com/docs/standard/forms/file-input/ -->
<section class="px-5 py-12 md:p-10 flex justify-between gap-5 lg:gap-12 md:flex-row flex-col w-screen relative">
  <img src="<%= product?.image %>" alt="<%= product?.name %> image" id="update-product-image" class="hidden md:block md:sticky top-5 left-0 
    object-cover object-center md:w-1/3 aspect-square md:aspect-auto md:h-80 lg:h-96
    rounded-full lg:rounded-xl shadow-md">
  <div class="bg-gray-800 border-gray-700 py-3 px-5 sm:px-9 lg:py-6 rounded-lg grow">
    <h1 class="text-center font-bold text-3xl my-4">
      <%= title %>
    </h1>
    <form action="<%= navigatePage("product-update", product?._id) %>" method="post" enctype="multipart/form-data">
      <div class="grid gap-5 sm:grid-cols-2 sm:gap-7">
        <div class="sm:col-span-2">
          <input type="text" name="vendor" id="vendor" value="<%= product?.vendor %>" hidden>
        </div>
        <div class="sm:col-span-2">
          <label for="name" class="input-label block mb-2 pl-1.5 text-md font-medium text-white">Product
            Name</label>
          <input type="text" name="name" id="name" class="border invalid:border-red-500 invalid:text-red-600 text-base rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white
          focus:outline-none 
                        focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-primary-500" value="<%= product?.name %>" placeholder="Type product name" minlength="10" maxlength="50" required="">
          <p class="text-sm p-2 text-gray-400">Must be 10 to 50 characters</p>
        </div>
        <div class="sm:col-span-2">
          <label for="price" class="input-label block mb-2 pl-1.5 text-md font-medium text-gray-900 dark:text-white">Price</label>
          <input type="number" name="price" id="price" class="bg-gray-50 border border-gray-300 text-gray-900 text-base rounded-lg  focus:border-primary-600 block w-full p-2.5 
          focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-primary-500" placeholder="$00000" step="0.01" min="0" required="" value="<%= product?.price %>">
          <p class="text-sm p-2 text-gray-400">Must be a positive number</p>
        </div>
        <div class=" sm:col-span-2">
          <label for="stock" class="input-label block mb-2 pl-1.5 text-md font-medium text-gray-900 dark:text-white">Stock</label>
          <input type="number" name="stock" id="stock" class="bg-gray-50 border border-gray-300 text-gray-900 text-base rounded-lg  focus:border-primary-600 block w-full p-2.5 
          focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-primary-500" placeholder="20" min="0" required="" value="<%= product?.stock %>">
          <p class="text-sm p-2 text-gray-400">Must be a positive number</p>
        </div>
        <div class="sm:col-span-2">
          <label for="image" class="input-label block mb-2 pl-1.5 text-md font-medium text-gray-900 dark:text-white">Product
            Image</label>
          <input class="relative m-0 block w-full min-w-0 flex-auto cursor-pointer rounded-lg 
          text-base
          transition duration-300 ease-in-out 
          border border-solid border-gray-300 bg-clip-padding 
          px-3 py-[0.32rem] font-normal leading-[2.15] 
          text-gray-900  file:-mx-3 file:-my-[0.32rem] file:cursor-pointer file:overflow-hidden file:rounded-none file:border-0 file:border-solid file:border-gray-300 file:bg-gray-50 file:px-3 file:py-[0.32rem] file:text-gray-900 file:transition file:duration-150 file:ease-in-out file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] hover:file:bg-neutral-200 
          focus:border-primary-600 focus:text-neutral-700 focus:shadow-te-primary focus:outline-none dark:file:border-gray-600
          dark:border-gray-600 dark:text-white dark:file:bg-gray-700 dark:file:text-white dark:focus:border-primary-500 dark:hover:file:bg-gray-600" 
          name="image" id="image" type="file" />
          <!-- In case the user input no file - still keep old image -->
          <input type="text" name="oldImage" id="old-image" value="<%= product?.image %>" hidden>
        </div>
        <div class="sm:col-span-2">
          <label for="description" class="input-label block mb-2 pl-1.5 text-md font-medium text-gray-900 dark:text-white">Description</label>
          <textarea id="description" name="description" rows="8" class="block p-2.5 w-full text-base text-gray-900 bg-gray-50 rounded-lg border border-gray-300  focus:border-primary-500 dark:bg-gray-700 
          focus:outline-none dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-primary-500" placeholder="Your description here" maxlength="500"><%= product?.description %></textarea>
          <p class="text-sm p-2 text-gray-400">Maximum 500 characters</p>
        </div>
      </div>
      <button type="submit" class="flex sm:inline-flex items-center justify-center w-full sm:w-auto px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-primary-700 rounded-lg focus:ring-4  hover:bg-primary-800">
        Update product
      </button>
    
      <span> <a href="#" class="bg-rose-600 text-white text-sm font-medium 
        sm:inline-flex flex items-center justify-center sm:ml-5 px-5 py-2.5 mt-4 sm:mt-6 text-center rounded-lg hover:bg-rose-700">Delete
          product</a></span>
    </form>
  </div>
</section>